<header class="header">
  <div class="header-container">
    <!-- Logo -->
    <div class="logo">
      <a routerLink="/" class="logo-link">
        <img src="https://res.cloudinary.com/ddkvhnj27/image/upload/v1758400063/z7019344847597_aa447955326b74efcd30844f0ddafb97_mcbqgu.jpg" alt="GreenCharger" class="logo-img" />
        <span class="logo-text">Green Charger</span>
      </a>
    </div>

    <!-- Navigation Menu -->
    <nav class="nav" [class.nav-open]="isMenuOpen">
      <ul class="nav-list">
        <li class="nav-item">
          <a routerLink="/" class="nav-link" routerLinkActive="active">Trang ch·ªß</a>
        </li>
        <li class="nav-item">
          <a routerLink="/products" class="nav-link" routerLinkActive="active">S·∫£n ph·∫©m</a>
        </li>
        <li class="nav-item">
          <a routerLink="/about" class="nav-link" routerLinkActive="active">Gi·ªõi thi·ªáu</a>
        </li>
        <li class="nav-item">
          <a routerLink="/contact" class="nav-link" routerLinkActive="active">Li√™n h·ªá</a>
        </li>
      </ul>
    </nav>

    <!-- User Actions -->
    <div class="user-actions">
      <!-- Search -->
      <div class="search-box">
        <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." class="search-input" />
        <button class="search-btn">
          <i class="search-icon"></i>
        </button>
      </div>

      <!-- Cart -->
      <a routerLink="/cart" class="cart-link">
        <i class="cart-icon">üõí</i>
        <span class="cart-count">0</span>
      </a>

      <!-- User Menu -->
      <div class="user-menu" *ngIf="userService.isAuthenticated(); else loginButton">
        <div class="user-info" (click)="toggleMenu()">
          <img src="/assets/user-avatar.png" alt="User" class="user-avatar" />
          <span class="user-name">{{ userService.getCurrentUser()?.firstName || 'User' }}</span>
          <i class="dropdown-icon">‚ñº</i>
        </div>
        
        <div class="dropdown-menu" [class.show]="isMenuOpen">
          <a routerLink="/profile" class="dropdown-item">H·ªì s∆°</a>
          <a routerLink="/orders" class="dropdown-item">ƒê∆°n h√†ng</a>
          <a routerLink="/admin" class="dropdown-item" *ngIf="userService.getCurrentUser()?.role === 'admin'">Qu·∫£n tr·ªã</a>
          <hr class="dropdown-divider">
          <button class="dropdown-item logout-btn" (click)="logout()">ƒêƒÉng xu·∫•t</button>
        </div>
      </div>

      <ng-template #loginButton>
        <div class="auth-buttons">
          <a routerLink="/login" class="btn btn-outline">ƒêƒÉng nh·∫≠p</a>
          <a routerLink="/register" class="btn btn-primary">ƒêƒÉng k√Ω</a>
        </div>
      </ng-template>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" (click)="toggleMenu()">
      <span class="hamburger"></span>
      <span class="hamburger"></span>
      <span class="hamburger"></span>
    </button>
  </div>
</header>
